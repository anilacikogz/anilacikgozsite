<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Türkiye Radyo Portalı</title>
<style>
  body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #121212;
    color: #eee;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    padding: 10px 15px;
  }
  header {
    text-align: center;
    padding: 15px 0;
    font-size: 1.8rem;
    font-weight: 700;
    letter-spacing: 1.5px;
    color: #4caf50;
  }
  #categoryFilter {
    margin: 10px auto 20px auto;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
  }
  #categoryFilter button {
    background: #333;
    border: none;
    color: #eee;
    padding: 8px 18px;
    border-radius: 20px;
    cursor: pointer;
    font-weight: 600;
    transition: background 0.3s ease;
  }
  #categoryFilter button:hover,
  #categoryFilter button.active {
    background: #4caf50;
    color: #fff;
  }
  #radioList {
    list-style: none;
    padding: 0;
    max-width: 500px;
    margin: 0 auto;
  }
  #radioList li {
    background: #1e1e1e;
    margin-bottom: 10px;
    padding: 15px 20px;
    border-radius: 10px;
    font-size: 1.1rem;
    cursor: pointer;
    user-select: none;
    transition: background 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  #radioList li:hover {
    background: #333;
  }
  #radioList li.playing {
    background: #4caf50;
    color: white;
    font-weight: 700;
  }
  #radioList li::after {
    content: "▶";
    font-size: 1rem;
    color: #4caf50;
    opacity: 0.6;
  }
  #radioList li.playing::after {
    content: "⏸";
    color: #fff;
    opacity: 1;
  }
  #audioPlayer {
    width: 100%;
    max-width: 500px;
    margin: 20px auto 30px auto;
    outline: none;
    border-radius: 10px;
  }
  @media (max-width: 600px) {
    body {
      padding: 10px;
    }
    header {
      font-size: 1.5rem;
    }
    #radioList li {
      font-size: 1rem;
      padding: 12px 15px;
    }
  }
</style>
</head>
<body>

<header>Türkiye Radyo Portalı</header>

<div id="categoryFilter">
  <button class="active" data-category="all">Tüm Radyolar</button>
  <button data-category="pop">Pop</button>
  <button data-category="rap">Rap</button>
  <button data-category="turku">Türkü</button>
  <button data-category="dinleti">Dinleti</button>
  <button data-category="talk">Konuşma</button>
</div>

<ul id="radioList"></ul>

<audio id="audioPlayer" controls>
  Tarayıcınız audio elementini desteklemiyor.
</audio>

<script>
const radios = [
  // Pop
  { name: "Kral FM", category: "pop", url: "https://kralfm.listenpowerapp.com/kralfm/128/icecast.audio" },
  { name: "PowerTürk", category: "pop", url: "https://powerturk.listenpowerapp.com/powerturk/128/icecast.audio" },
  { name: "Slow Türk", category: "pop", url: "https://slowturk.listenpowerapp.com/slowturk/128/icecast.audio" },
  { name: "Best FM", category: "pop", url: "https://bestfm.listenpowerapp.com/bestfm/128/icecast.audio" },
  { name: "Joy FM", category: "pop", url: "https://joyfm.listenpowerapp.com/joyfm/128/icecast.audio" },
  { name: "Metro FM", category: "pop", url: "https://metrofm.listenpowerapp.com/metrofm/128/icecast.audio" },
  { name: "Süper FM", category: "pop", url: "https://superfm.listenpowerapp.com/superfm/128/icecast.audio" },
  
  // Rap
  { name: "Rap FM", category: "rap", url: "https://rapfm.listenpowerapp.com/rapfm/128/icecast.audio" },
  { name: "RapTürk", category: "rap", url: "https://rapturk.listenpowerapp.com/rapturk/128/icecast.audio" },
  
  // Türkü
  { name: "Türkü FM", category: "turku", url: "https://turkufm.listenpowerapp.com/turkufm/128/icecast.audio" },
  { name: "Radyo Denge Türkü", category: "turku", url: "https://dengeturku.listenpowerapp.com/dengeturku/128/icecast.audio" },
  { name: "Yörem Türkü", category: "turku", url: "https://yoremturku.listenpowerapp.com/yoremturku/128/icecast.audio" },

  // Dinleti
  { name: "Tasavvuf Radyo", category: "dinleti", url: "https://tasavvufradyo.listenpowerapp.com/tasavvufradyo/128/icecast.audio" },
  { name: "Naat Radyo", category: "dinleti", url: "https://naatradyo.listenpowerapp.com/naatradyo/128/icecast.audio" },
  { name: "Kuran Radyo", category: "dinleti", url: "https://kuranradyo.listenpowerapp.com/kuranradyo/128/icecast.audio" },

  // Konuşma & Haber & Genel
  { name: "Radyo Fenomen", category: "talk", url: "https://fenomen.listenfenomen.com/fenomen/128/icecast.audio" },
  { name: "TRT FM", category: "talk", url: "https://trtfm01.akdeniz.edu.tr:8000/stream/1/" },
  { name: "Radyo D", category: "talk", url: "https://radyod.listenpowerapp.com/radyod/128/icecast.audio" },
  { name: "Radyo Trafik", category: "talk", url: "https://radyotrafik.listenpowerapp.com/radyotrafik/128/icecast.audio" },
  { name: "Radyo ODTÜ", category: "talk", url: "https://radioodtu.net:8000/radioodtu" }
];

const radioList = document.getElementById("radioList");
const audioPlayer = document.getElementById("audioPlayer");
const categoryButtons = document.querySelectorAll("#categoryFilter button");

let currentPlayingIndex = null;
let currentCategory = "all";

function renderRadios(filterCategory = "all") {
  currentCategory = filterCategory;
  radioList.innerHTML = "";
  let filtered = radios;
  if (filterCategory !== "all") {
    filtered = radios.filter(r => r.category === filterCategory);
  }
  filtered.forEach((radio, i) => {
    const li = document.createElement("li");
    li.textContent = radio.name;
    li.dataset.index = i;
    if (i === currentPlayingIndex) li.classList.add("playing");
    li.onclick = () => playRadio(i);
    radioList.appendChild(li);
  });
}

function playRadio(index) {
  let filtered = radios;
  if (currentCategory !== "all") {
    filtered = radios.filter(r => r.category === currentCategory);
  }
  const radio = filtered[index];
  if (!radio) return;
  audioPlayer.src = radio.url;
  audioPlayer.play().catch(() => {
    alert("Yayın başlatılamadı. Lütfen bağlantınızı kontrol edin veya farklı bir radyo seçin.");
  });
  currentPlayingIndex = index;
  updatePlayingHighlight();
}

function updatePlayingHighlight() {
  const lis = radioList.querySelectorAll("li");
  lis.forEach(li => li.classList.remove("playing"));
  if (currentPlayingIndex !== null && lis[currentPlayingIndex]) {
    lis[currentPlayingIndex].classList.add("playing");
  }
}

categoryButtons.forEach(btn => {
  btn.onclick = () => {
    categoryButtons.forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    currentPlayingIndex = null;
    renderRadios(btn.dataset.category);
  };
});

renderRadios();
</script>

</body>
</html>
