<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Türkiye Radyo Portalı</title>
<style>
  /* Genel stil */
  body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #121212;
    color: #eee;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    padding: 10px 15px;
  }
  header {
    text-align: center;
    padding: 15px 0;
    font-size: 1.8rem;
    font-weight: 700;
    letter-spacing: 1.5px;
    color: #4caf50;
  }

  /* Kategori seçimi */
  #categoryFilter {
    margin: 10px auto 20px auto;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
  }
  #categoryFilter button {
    background: #333;
    border: none;
    color: #eee;
    padding: 8px 18px;
    border-radius: 20px;
    cursor: pointer;
    font-weight: 600;
    transition: background 0.3s ease;
  }
  #categoryFilter button:hover,
  #categoryFilter button.active {
    background: #4caf50;
    color: #fff;
  }

  /* Radyo listesi */
  #radioList {
    list-style: none;
    padding: 0;
    max-width: 500px;
    margin: 0 auto;
  }
  #radioList li {
    background: #1e1e1e;
    margin-bottom: 10px;
    padding: 15px 20px;
    border-radius: 10px;
    font-size: 1.1rem;
    cursor: pointer;
    user-select: none;
    transition: background 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  #radioList li:hover {
    background: #333;
  }
  #radioList li.playing {
    background: #4caf50;
    color: white;
    font-weight: 700;
  }

  /* Play ikonu */
  #radioList li::after {
    content: "▶";
    font-size: 1rem;
    color: #4caf50;
    opacity: 0.6;
  }
  #radioList li.playing::after {
    content: "⏸";
    color: #fff;
    opacity: 1;
  }

  /* Ses oynatıcı */
  #audioPlayer {
    width: 100%;
    max-width: 500px;
    margin: 20px auto 30px auto;
    outline: none;
    border-radius: 10px;
  }

  /* Responsive */
  @media (max-width: 600px) {
    body {
      padding: 10px;
    }
    header {
      font-size: 1.5rem;
    }
    #radioList li {
      font-size: 1rem;
      padding: 12px 15px;
    }
  }
</style>
</head>
<body>

<header>Türkiye Radyo Portalı</header>

<div id="categoryFilter">
  <button class="active" data-category="all">Tüm Radyolar</button>
  <button data-category="pop">Pop</button>
  <button data-category="rap">Rap</button>
  <button data-category="turku">Türkü</button>
  <button data-category="dinleti">Dinleti</button>
  <button data-category="talk">Konuşma</button>
</div>

<ul id="radioList">
  <!-- Radyo listesi JS ile doldurulacak -->
</ul>

<audio id="audioPlayer" controls>
  Tarayıcınız audio elementini desteklemiyor.
</audio>

<script>
// Radyo listesi (isim, kategori, stream URL)
const radios = [
  // Pop
  { name: "Kral FM", category: "pop", url: "http://46.20.3.204:80/;stream/1" },
  { name: "PowerTürk", category: "pop", url: "http://46.20.4.2:80/;stream/1" },
  { name: "Slow Türk", category: "pop", url: "http://46.20.3.218:80/stream/1" },
  { name: "Best FM", category: "pop", url: "http://46.20.3.207/stream/1/" },

  // Rap
  { name: "Rap FM", category: "rap", url: "http://listen.rapfm.com/stream/1/" },
  { name: "RapTürk", category: "rap", url: "http://46.20.3.210:80/stream/1" },

  // Türkü
  { name: "Türkü FM", category: "turku", url: "http://46.20.3.215:80/stream/1" },
  { name: "Radyo Denge Türkü", category: "turku", url: "http://radyo.denge.com.tr:8000/dengeturku" },

  // Dinleti (Tasavvuf, Naat vs)
  { name: "Tasavvuf Radyo", category: "dinleti", url: "http://37.247.100.92:8036/stream" },
  { name: "Naat Radyo", category: "dinleti", url: "http://naat.com.tr:8000/stream" },

  // Konuşma & Haber & Genel
  { name: "Radyo Fenomen", category: "talk", url: "http://fenomen.listenfenomen.com/fenomen/128/icecast.audio" },
  { name: "TRT FM", category: "talk", url: "http://trt-fm-canli-rtmp.trt.net.tr/live/stream/playlist.m3u8" },
  { name: "Radyo D", category: "talk", url: "http://31.210.105.41/stream" },

  // Diğer popülerler
  { name: "Metro FM", category: "pop", url: "http://46.20.3.208/stream/1/" },
  { name: "Süper FM", category: "pop", url: "http://46.20.3.212/stream/1/" },
  { name: "Joy FM", category: "pop", url: "http://46.20.3.213/stream/1/" },
  { name: "Radyo Trafik", category: "talk", url: "http://radyo.trafik.com.tr:8000/stream" },
  { name: "Radyo ODTÜ", category: "talk", url: "http://radioodtu.net:8000/radioodtu" },

  // Daha fazla türkü
  { name: "Yörem Türkü", category: "turku", url: "http://yoremturku.com:8000/stream" },

  // Dinletiye ek
  { name: "Kuran Radyo", category: "dinleti", url: "http://koran.radiosite.com:8000/kuran" }
];

// Elemanlar
const radioList = document.getElementById("radioList");
const audioPlayer = document.getElementById("audioPlayer");
const categoryButtons = document.querySelectorAll("#categoryFilter button");

let currentPlayingIndex = null;

// Radyo listesini renderla (filtre ile)
function renderRadios(filterCategory = "all") {
  radioList.innerHTML = "";
  let filtered = radios;
  if (filterCategory !== "all") {
    filtered = radios.filter(r => r.category === filterCategory);
  }
  filtered.forEach((radio, i) => {
    const li = document.createElement("li");
    li.textContent = radio.name;
    li.dataset.index = i;
    if (i === currentPlayingIndex) li.classList.add("playing");
    li.onclick = () => playRadio(i, filterCategory);
    radioList.appendChild(li);
  });
}

// Radyo çalma fonksiyonu
function playRadio(index, filterCategory) {
  const filteredRadios = filterCategory === "all" ? radios : radios.filter(r => r.category === filterCategory);
  const radio = filteredRadios[index];
  if (!radio) return;
  audioPlayer.src = radio.url;
  audioPlayer.play().catch(() => {
    alert("Yayın başlatılamadı. Lütfen bağlantınızı kontrol edin veya farklı bir radyo seçin.");
  });
  
  // playing class güncelle
  currentPlayingIndex = index;
  updatePlayingHighlight(filterCategory);
}

// Aktif çalan radyoya renk vermek için
function updatePlayingHighlight(filterCategory) {
  const lis = radioList.querySelectorAll("li");
  lis.forEach(li => li.classList.remove("playing"));
  if (currentPlayingIndex === null) return;
  if (lis[currentPlayingIndex]) lis[currentPlayingIndex].classList.add("playing");
}

// Kategori butonları
categoryButtons.forEach(btn => {
  btn.onclick = () => {
    categoryButtons.forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    currentPlayingIndex = null;
    renderRadios(btn.dataset.category);
  };
});

// İlk sayfa yüklenince tüm radyoları göster
renderRadios();

</script>

</body>
</html>
